$Password = Read-Host -Prompt 'Enter SafeMode Admin Password' -AsSecureString
$domainName = 'ping-demos.com'
$netbiosName = 'pingdemos'

$Params = @{
    CreateDnsDelegation = $false
    DatabasePath = 'C:\Windows\NTDS'
    DomainMode = 'WinThreshold'
    DomainName = $domainName
    DomainNetbiosName = $netbiosName
    ForestMode = 'WinThreshold'
    InstallDns = $true
    LogPath = 'C:\Windows\NTDS'
    NoRebootOnCompletion = $true
    SafeModeAdministratorPassword = $Password
    SysvolPath = 'C:\Windows\SYSVOL'
    Force = $true
}

Install-ADDSForest @Params

# Relax the default Password Policy
Set-ADDefaultDomainPasswordPolicy -Identity ping-demos.com -LockoutDuration 00:40:00 -LockoutObservationWindow 00:20:00 -ComplexityEnabled $false -ReversibleEncryptionEnabled $False -MaxPasswordAge 0 -PasswordHistoryCount 0